<ui:composition  template="main-template.xhtml"
                 xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://xmlns.jcp.org/jsf/html"
                 xmlns:f="http://xmlns.jcp.org/jsf/core"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="title">Find Theaters</ui:define>

    <ui:define name="content">
        <f:view>
            <div class="theaters">
                <div class="jumbotron">
                    <h3>
                        <h:outputLabel  rendered="#{theaterBean.zipcode == null}"> 
                            Showing All Theaters
                        </h:outputLabel> 
                        <h:outputLabel  rendered="#{theaterBean.zipcode != null}"> 
                            Showing Theaters in #{theaterBean.zipcode}
                            <br/>
                            <h:form>
                                <h:commandButton styleClass="btn btn-outline-danger btn-sm"  action="#{theaterController.findAll}" value="Show All" id="search"></h:commandButton>
                            </h:form>
                        </h:outputLabel> 
                    </h3>  
                </div>
                <div class="row"> 
                    <ui:repeat value="#{theaterController.theaters}" var="theater">
                        <div class="col col-md-4">
                            <div class="card">
                                <img class="card-img-top" src="#{theater.posterurl}" alt="" />
                                <div class="card-block">
                                    <h4 class="card-title">#{theater.city}</h4>
                                    <p class="card-text">
                                        #{theater.address} <br/>
                                        #{theater.city} #{theater.state} #{theater.zipcode}
                                    </p> 
                                    <h:form>
                                        <h:commandButton styleClass="btn btn-danger"  action="#{theaterController.findMoviesByTheater(theater.id)}" value="See Movies"></h:commandButton>
                                    </h:form>
                                </div>
                            </div> 
                        </div>
                    </ui:repeat>
                </div>
            </div>
        </f:view> 
    </ui:define>

</ui:composition>

