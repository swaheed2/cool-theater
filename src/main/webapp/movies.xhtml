<ui:composition  template="main-template.xhtml"
                 xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://xmlns.jcp.org/jsf/html"
                 xmlns:f="http://xmlns.jcp.org/jsf/core"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="title">Movies</ui:define>

    <ui:define name="content">
        <f:view>
            <div class="theaters">
                <div class="jumbotron">
                    <h3>
                        <h:outputLabel  rendered="#{movieController.isShowingMovies == true}"> 
                            Showing All Movies
                        </h:outputLabel> 
                        <h:outputLabel  rendered="#{theaterController.findByTheater == true}"> 
                            Showing Movies for #{theaterBean.zipcode} theater
                            <br/>
                            <h:form>
                                <h:commandButton styleClass="btn btn-outline-danger btn-sm"  action="#{theaterController.findAll}" value="Show All" id="search"></h:commandButton>
                            </h:form>
                        </h:outputLabel> 
                    </h3>  
                </div>
                <div class="row"> 
                    <h:outputLabel  rendered="#{movieController.isShowingMovies == true}"> 
                        <ui:repeat value="#{movieController.all}" var="movie">
                            <div class="col col-md-4">
                                <div class="card">
                                    <img class="card-img-top" src="#{movie.posterurl}" alt="" />
                                    <div class="card-block movies-card-block">
                                        <h4 class="card-title">#{movie.title}</h4>
                                        <p class="card-text">
                                            #{movie.description} <br/>
                                            #{movie.releaseYear} #{movie.mpaa} #{movie.duration}
                                        </p>
                                        <a href="#" class="btn btn-danger">Get Tickets</a>
                                    </div>
                                </div> 
                            </div>
                        </ui:repeat>
                    </h:outputLabel>
                    <h:outputLabel  rendered="#{theaterController.findByTheater == true}"> 
                        <ui:repeat value="#{theaterController.moviesByTheater}" var="movie">
                            <div class="col col-md-4">
                                <div class="card">
                                    <img class="card-img-top" src="#{movie.posterurl}" alt="" />
                                    <div class="card-block movies-card-block">
                                        <h4 class="card-title">#{movie.title}</h4>
                                        <p class="card-text">
                                            #{movie.description} <br/>
                                            #{movie.releaseYear} #{movie.mpaa} #{movie.duration}
                                        </p>
                                        <a href="#" class="btn btn-danger">Get Tickets</a>
                                    </div>
                                </div> 
                            </div>
                        </ui:repeat>
                    </h:outputLabel>
                </div>
            </div>
        </f:view> 
    </ui:define>

</ui:composition>

